{"version":3,"file":"static/webpack/static/development/pages/index.js.7621925772c76bc347fa.hot-update.js","sources":["webpack:///./components/game.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\n\nimport Board from \"./board\";\nimport Deck from \"./deck\";\n\nconst flex = {\n  display: \"flex\"\n};\n\nconst defaultState = {\n  1: {\n    deck: [\n      {\n        name: \"Tonberry\",\n        rarity: 1,\n        tribe: null,\n        stats: { north: 2, east: 2, south: 7, west: 2 }\n      },\n      {\n        name: \"Namazu\",\n        rarity: 1,\n        tribe: \"Beastman\",\n        stats: { north: 1, east: 6, south: 1, west: 5 }\n      },\n      {\n        name: \"Adamantoise\",\n        rarity: 2,\n        tribe: null,\n        stats: { north: 5, east: 7, south: 4, west: 4 }\n      },\n      {\n        name: \"Ultros & Typhon\",\n        rarity: 2,\n        tribe: null,\n        stats: { north: 2, east: 3, south: 6, west: 7 }\n      },\n      {\n        name: \"Garuda\",\n        rarity: 3,\n        tribe: \"Primal\",\n        stats: { north: 7, east: 6, south: 1, west: 7 }\n      }\n    ]\n  },\n  2: {\n    deck: [\n      {\n        name: \"Chocobo\",\n        rarity: 1,\n        tribe: null,\n        stats: { north: 3, east: 7, south: 2, west: 1 }\n      },\n      {\n        name: \"Moogle\",\n        rarity: 1,\n        tribe: \"Beastman\",\n        stats: { north: 2, east: 1, south: 3, west: 7 }\n      },\n      {\n        name: \"Delivery Moogle\",\n        rarity: 2,\n        tribe: \"Beastman\",\n        stats: { north: 5, east: 5, south: 6, west: 3 }\n      },\n      {\n        name: \"Moglin\",\n        rarity: 3,\n        tribe: \"Beastman\",\n        stats: { north: 8, east: 5, south: 4, west: 5 }\n      },\n      {\n        name: \"Good King Moggle Mog XII\",\n        rarity: 3,\n        tribe: \"Primal\",\n        stats: { north: 7, east: 6, south: 7, west: 1 }\n      }\n    ]\n  },\n  board: Array(9).fill({\n    player: null,\n    card: {\n      name: null,\n      rarity: null,\n      tribe: null,\n      stats: { north: null, east: null, south: null, west: null }\n    }\n  }),\n  turn: 1,\n  cardInHand: false,\n  indexOfCard: null\n};\n\nconst Game = () => {\n  const [state, updateState] = useState(defaultState);\n\n  const onPickUp = useCallback(\n    (player, index) => {\n      if (player === state.turn) {\n        if (index === state.indexOfCard) {\n          updateState({\n            ...state,\n            cardInHand: false,\n            indexOfCard: null\n          });\n        } else {\n          updateState({\n            ...state,\n            cardInHand: true,\n            indexOfCard: index\n          });\n        }\n      }\n    },\n    [state]\n  );\n\n  const onPutDown = useCallback(\n    (index) => {\n      console.log(state.board[index].player);\n      if (state.cardInHand && !state.board[index].player) {\n        const player = state.turn;\n        const newBoard = [\n          ...state.board.slice(0, index),\n          {\n            player: player,\n            card: state[player].deck[state.indexOfCard]\n          },\n          ...state.board.slice(index + 1)\n        ];\n\n        updateState({\n          ...state,\n          board: newBoard,\n          cardInHand: false,\n          indexOfCard: null,\n          turn: (state.turn % 2) + 1\n        })\n      }\n    }, [state]\n  );\n\n  return (\n    <div style={flex}>\n      <Deck player={1} deck={state[1].deck} onClick={onPickUp} />\n\n      <Board board={state.board} turn={state.turn} onClick={onPutDown}/>\n\n      <Deck player={2} deck={state[2].deck} onClick={onPickUp} />\n\n      {`${state.cardInHand}`}\n      {`${state.indexOfCard}`}\n      {`${state.turn}`}\n    </div>\n  );\n};\n\nexport default Game;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AACA;AADA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AA1BA;AAkCA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AA1BA;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAFA;AASA;AACA;AACA;AAhFA;AACA;AAkFA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AAIA;AAEA;AACA;AAAA;AACA;AACA;AAGA;AACA;AAFA;AAOA;AAEA;AACA;AACA;AACA;AALA;AAOA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}